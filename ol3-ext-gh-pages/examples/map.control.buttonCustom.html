<!DOCTYPE html>
<!----------------------------------------------------------
 
	Copyright (c) 2015 Jean-Marc VIGLINO, 
	released under CeCILL-B (french BSD like) licence: http://www.cecill.info/
	
------------------------------------------------------------>
<html>
<head>
	<title>map</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

	<meta name="description" content="ol.control.Button is a simple control with a button." />
	<meta name="keywords" content="ol3, control, button" />

	<link rel="stylesheet" href="style.css" />

	<!-- jQuery -->
	<script type="text/javascript" src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
	<!-- FontAwesome -->
	<link rel="stylesheet" href="http://fontawesome.io/assets/font-awesome/css/font-awesome.css" type="text/css" />

	<!-- OL3 -->
    <link rel="stylesheet" href="http://openlayers.org/en/master/css/ol.css" />
	<script type="text/javascript" src="http://openlayers.org/en/master/build/ol.js"></script>
	
	<!-- controls --> 
	<script type="text/javascript" src="../control/lamiscontrol.js"></script>
	<script type="text/javascript" src="../control/refreshcontrol.js"></script>
	<script type="text/javascript" src="../control/buttoncontrol.js"></script>
	<script type="text/javascript" src="../control/togglecontrol.js"></script>
	<script type="text/javascript" src="../control/overview.js"></script>
	<script type="text/javascript" src="../control/previousnextmapcontrol.js"></script>
	<link rel="stylesheet" href="../control/overview.css">
	<script type="text/javascript" src="https://printjs-4de6.kxcdn.com/print.min.js"></script>
	<link rel="stylesheet" href="https://printjs-4de6.kxcdn.com/print.min.css">
	<style>
		.ol-button i
		{	color: inherit;
		}
		.print
		{	right: 50%;
			top: 0.5em;
		}
		.select
		{	right: 60%;
			top: 0.5em;
		}
		.ol-Center
		{	left: 50%;
			top: 0.5em;
		}
		.ol-Refresh
		{	left: 55%;
			top: 0.5em;
		}
		.ol-PreviousNext
		{
			left: 65%;
			top: 0.5em;
		}
		.text
		{	left: 50%;
			top: 2.5em;
		}
	</style>

</head>
<body >
	<!-- Map div -->
	<div id="map" style="width:600px; height:400px;"></div>
	<script type="text/javascript">
        
		var coordinate
		  var extent = [0, 0, 1024, 968];
      var projection = new ol.proj.Projection({
        code: 'xkcd-image',
        units: 'pixels',
        extent: extent
      });
		// The map
		    var map = new ol.Map({
		interactions: ol.interaction.defaults().extend([
					new ol.interaction.DragZoom({condition : ol.events.condition.always})]),	
        layers: [
          new ol.layer.Image({
            source: new ol.source.ImageStatic({
              attributions: '© <a href="http://xkcd.com/license.html">xkcd</a>',
              url: 'https://imgs.xkcd.com/comics/online_communities.png',
              projection: projection,
              imageExtent: extent
            })
          })
        ],
        target: 'map',
        view: new ol.View({
          projection: projection,
          center: ol.extent.getCenter(extent),
          zoom: 2,
          maxZoom: 8
        })
      });

	console.log("ok", map)
	var previousNext = new ol.control.PreviousNext();
	map.addControl(previousNext);
	var lam = new ol.control.Lamis();
	map.addControl(lam);
	// Add a custom push button with onToggle function
		var print = new ol.control.Button (
				{	html: '<i class="fa fa-print"></i>',
					className: "print",
					title: "Print map",
					handleClick: function()
						{	
							//printJS('map', 'html')
							console.log(map.getView().getZoom())
						}
				});			
	map.addControl(print);
	//var refresh = new ol.control.Refresh();
	//map.addControl(refresh);
	//map.addControl(new ol.control.ZoomToExtent());
	map.addControl(new ol.control.Overview({
	minZoom:1,
	maxZoom:1,
	layers:[
          new ol.layer.Image({
            source: new ol.source.ImageStatic({
              attributions: '© <a href="http://xkcd.com/license.html">xkcd</a>',
              url: 'https://imgs.xkcd.com/comics/online_communities.png',
              projection: projection,
              imageExtent: extent
            })
          })
        ],
    rotation: true,
  align: 'bottom-left',
  panAnimation: 'elastic'
	}));
	zoomslider = new ol.control.ZoomSlider();
    map.addControl(zoomslider);
	</script>

</body>
</html>